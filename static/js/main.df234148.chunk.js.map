{"version":3,"sources":["components/Instructions.js","components/Redirector.js","components/Edit.js","components/Update.js","components/App.js","index.js"],"names":["Instructions","to","React","Component","Redirector","state","urlToUse","readyToGo","usersURL","usersChosenUUID","window","location","href","substring","lastIndexOf","length","console","log","this","props","currentUrls","forEach","url","url_uuid","url_value","setState","parse","Edit","id","uuidv4","submitted","update","e","target","name","value","createdLinkUUID","createdLinkURL","className","onSubmit","addUrl","type","hidden","readOnly","onChange","text","updateUrl","App","urls","loadedURLs","justCreatedLink","fetch","then","r","json","data","formData","preventDefault","uuid","urlDest","basename","exact","path","addURL","Update","updateURL","getURLData","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.df234148.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { HashRouter as Router, Link} from \"react-router-dom\";\r\n\r\nclass Instructions extends React.Component{\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                <h2>Usage</h2>\r\n                <h3>Editing a Link</h3>\r\n                <p>To edit a link, go <b><Link to=\"/edit/\">here</Link></b>.</p>\r\n                <h3>Update a Link</h3>\r\n                <p>To update a link, go <b><Link to=\"/update/\">here</Link></b>.</p>\r\n                <h3>To Redirect to a Link</h3>\r\n                <p>Visit this domain with <b>'/redirect/[uuid]'</b> in the URL.</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Instructions;","import React from \"react\";\r\n\r\nclass Redirector extends React.Component{\r\n\r\n    state={\r\n        urlToUse: \"\",\r\n        readyToGo: false,\r\n    }\r\n\r\n    parse(){\r\n        var usersChosenUUID = window.location.href.substring(window.location.href.lastIndexOf(\"/\")+1,window.location.href.length);\r\n        console.log(usersChosenUUID);\r\n        var usersURL;\r\n        this.props.currentUrls.forEach(url => {\r\n            if(url.url_uuid === usersChosenUUID){\r\n                usersURL = url.url_value\r\n            }\r\n        })\r\n        if(usersURL[0] !== \"h\"){\r\n            usersURL = \"https://\"+usersURL;\r\n        }\r\n        this.setState({\r\n            urlToUse: usersURL,\r\n            readyToGo: true\r\n        })\r\n        console.log(usersURL);\r\n        \r\n    }\r\n\r\n    render(){\r\n        if(this.state.readyToGo){\r\n            window.location.href = this.state.urlToUse;\r\n            return(\r\n                <h1>Redirecting you...</h1>\r\n            )\r\n        }else{\r\n            this.parse()\r\n            return(\r\n                <h1>Parsing UUID...</h1>\r\n            )\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Redirector;","import React from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\n\r\nclass Edit extends React.Component{\r\n\r\n    state = {\r\n        id: uuidv4(),\r\n        url: \"\",\r\n        submitted: false,\r\n    }\r\n\r\n    update = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value,\r\n        })\r\n    }\r\n\r\n    render(){\r\n        if(!this.state.submitted){\r\n            return(\r\n                <div>\r\n                    <h2 className=\"pageTitle\">Create a Link</h2>\r\n                    <form className=\"formParent\" onSubmit={this.props.addUrl}>\r\n                        <label className=\"formLabel\">\r\n                            <b>URL ID: {this.state.id}</b>{\" \"}\r\n                            <input type=\"text\" name=\"id\" hidden value={this.state.id} readOnly></input>\r\n                        </label>\r\n                        <br />\r\n                        <label className=\"formLabel\">\r\n                            <b>URL Destination:</b>{\" \"}\r\n                            <input type=\"text\" name=\"url\" value={this.state.url} onChange={this.update}></input>\r\n                        </label>\r\n                        <br />\r\n                        <br />\r\n                        <CopyToClipboard text={\"https://relishedchicken.github.io/url-redirect-system/#/redirect/\"+this.state.id}>\r\n                            <button className=\"submitButton\">COPY URL TO CLIPBOARD</button>\r\n                        </CopyToClipboard>\r\n                    </form>\r\n                </div>\r\n            )\r\n        }else{\r\n            return(\r\n                <>\r\n                    <h1>Thanks! Your link is as follows</h1>\r\n                    <h2>UUID: {this.state.createdLinkUUID}</h2>\r\n                    <h2>URL: {this.state.createdLinkURL}</h2>\r\n                </>\r\n            )\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Edit;","import React from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\n\r\nclass Edit extends React.Component{\r\n\r\n    state = {\r\n        id: \"\",\r\n        url: \"\",\r\n        submitted: false\r\n    }\r\n\r\n    update = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value,\r\n        })\r\n    }\r\n\r\n    render(){\r\n        if(!this.state.submitted){\r\n            return(\r\n                <div>\r\n                    <h1 className=\"pageTitle\">Update a Link</h1>\r\n                    <h4 className=\"pageDetail\">Destination set to: {this.state.url}</h4>\r\n                    <h4 className=\"pageDetail\">Full Link Being Updated: {\"https://relishedchicken.github.io/url-redirect-system/#/redirect/\"+this.state.id}</h4>\r\n                    <form className=\"formParent\" onSubmit={this.props.updateUrl}>\r\n                        <label className=\"formLabel\">\r\n                            <b>UUID of URL to Update:</b>{\" \"}\r\n                            <input type=\"text\" name=\"id\" value={this.state.id} onChange={this.update}></input>\r\n                        </label>\r\n                        <br />\r\n                        <label className=\"formLabel\">\r\n                            <b>New URL Destination:</b>{\" \"}\r\n                            <input type=\"text\" name=\"url\" value={this.state.url} onChange={this.update}></input>\r\n                        </label>\r\n                        <br />\r\n                        <br />\r\n                        <CopyToClipboard text={\"https://relishedchicken.github.io/url-redirect-system/#/redirect/\"+this.state.id}>\r\n                            <button className=\"submitButton\">COPY URL TO CLIPBOARD {\"&\"} UPDATE</button>\r\n                        </CopyToClipboard>\r\n                    </form>\r\n                </div>\r\n            )\r\n        }else{\r\n            return(\r\n                <>\r\n                    <h1>Thanks! Your link is as follows</h1>\r\n                    <h2>UUID: {this.state.createdLinkUUID}</h2>\r\n                    <h2>URL: {this.state.createdLinkURL}</h2>\r\n                </>\r\n            )\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Edit;","import React from \"react\";\r\nimport { HashRouter as Router, Switch, Route, Link} from \"react-router-dom\";\r\nimport Instructions from \"./Instructions\";\r\nimport Redirector from \"./Redirector\";\r\nimport Edit from \"./Edit\";\r\nimport Update from \"./Update\";\r\nimport \"./App.css\";\r\n\r\nclass App extends React.Component{\r\n\r\n    state={\r\n        urls:[],\r\n        loadedURLs: false,\r\n        justCreatedLink: false,\r\n        createdLinkUUID: \"\",\r\n        createdLinkURL: \"\"\r\n    }\r\n\r\n    getURLData(){\r\n        fetch(\"https://cors-anywhere.herokuapp.com/http://kunet.kingston.ac.uk/k1625608/updateUrls/getUrls.php\").then(r=>r.json()).then((data) => {\r\n            this.setState({\r\n                urls: data\r\n            })\r\n            console.log(\"loaded!\");\r\n            this.setState({\r\n                loadedURLs: true\r\n            })\r\n        })\r\n        \r\n    }\r\n\r\n    addURL(formData){\r\n        formData.preventDefault();\r\n        console.log(formData);\r\n        var uuid = formData.target[0].value;\r\n        var urlDest = formData.target[1].value;\r\n        fetch(\"https://cors-anywhere.herokuapp.com/http://kunet.kingston.ac.uk/k1625608/updateUrls/addUrl.php?uuid=\"+uuid+\"&url=\"+urlDest);\r\n        window.location.href = \"/url-redirect-system/#/\";\r\n    }\r\n\r\n    updateURL(formData){\r\n        formData.preventDefault();\r\n        console.log(formData);\r\n        var uuid = formData.target[0].value;\r\n        var urlDest = formData.target[1].value;\r\n        if(urlDest !== \"\"){\r\n            fetch(\"https://cors-anywhere.herokuapp.com/http://kunet.kingston.ac.uk/k1625608/updateUrls/updateUrl.php?uuid=\"+uuid+\"&url=\"+urlDest);\r\n            window.location.href = \"/url-redirect-system/#/\";\r\n        }else{\r\n            window.location.href = \"/url-redirect-system/#/error\";\r\n        }        \r\n    }\r\n\r\n    render(){\r\n        if(this.state.loadedURLs){\r\n            return(\r\n                <div>\r\n                    <h1>Simple Persistant URL Redirector</h1>\r\n                    <Router>\r\n                        <Switch>\r\n                            <Route basename=\"/url-redirect-system/#/\" exact path=\"/\" >\r\n                                <Instructions />\r\n                            </Route>\r\n                            <Route basename=\"/url-redirect-system/#/\" path=\"/redirect\" >\r\n                                <Redirector currentUrls={this.state.urls}/>\r\n                            </Route>\r\n                            <Route basename=\"/url-redirect-system/#/\" path=\"/edit\" >\r\n                                <Edit addUrl={this.addURL}/>\r\n                            </Route>\r\n                            <Route basename=\"/url-redirect-system/#/\" path=\"/update\" >\r\n                                <Update updateUrl={this.updateURL}/>\r\n                            </Route>\r\n                            <Route basename=\"/url-redirect-system/#/\" path=\"/error\" >\r\n                                <h3>The URL entered was not complete or correct. Please try again: <Link to=\"/edit/\" /></h3>\r\n                            </Route>\r\n                        </Switch>\r\n                    </Router>\r\n                </div>\r\n            )\r\n        }else{\r\n            this.getURLData();\r\n            return(\r\n                <>\r\n                    <h1>Simple Persistant URL Redirector</h1>\r\n                    <div>\r\n                        <h2>Please Wait</h2>\r\n                        <h4>Loading latest data...</h4>\r\n                    </div>\r\n                </>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\"\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}