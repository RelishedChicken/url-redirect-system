(this["webpackJsonpurl-redirect-system"]=this["webpackJsonpurl-redirect-system"]||[]).push([[0],{37:function(e,t,r){},38:function(e,t,r){"use strict";r.r(t);var s=r(0),a=r(1),c=r.n(a),n=r(21),i=r.n(n),l=r(7),h=r(8),d=r(10),j=r(9),o=r(12),u=r(2),b=function(e){Object(d.a)(r,e);var t=Object(j.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Usage"}),Object(s.jsx)("h3",{children:"Editing a Link"}),Object(s.jsxs)("p",{children:["To edit a link, go ",Object(s.jsx)("b",{children:Object(s.jsx)(o.b,{to:"/edit/",children:"here"})}),"."]}),Object(s.jsx)("h3",{children:"Update a Link"}),Object(s.jsxs)("p",{children:["To update a link, go ",Object(s.jsx)("b",{children:Object(s.jsx)(o.b,{to:"/update/",children:"here"})}),"."]}),Object(s.jsx)("h3",{children:"To Redirect to a Link"}),Object(s.jsxs)("p",{children:["Visit this domain with ",Object(s.jsx)("b",{children:"'/redirect/[uuid]'"})," in the URL."]})]})}}]),r}(c.a.Component),O=function(e){Object(d.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(l.a)(this,r);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={urlToUse:"",readyToGo:!1},e}return Object(h.a)(r,[{key:"parse",value:function(){var e,t=window.location.href.substring(window.location.href.lastIndexOf("/")+1,window.location.href.length);console.log(t),this.props.currentUrls.forEach((function(r){r.url_uuid===t&&(e=r.url_value)})),"h"!==e[0]&&(e="https://"+e),this.setState({urlToUse:e,readyToGo:!0}),console.log(e)}},{key:"render",value:function(){return this.state.readyToGo?(window.location.href=this.state.urlToUse,Object(s.jsx)("h1",{children:"Redirecting you..."})):(this.parse(),Object(s.jsx)("h1",{children:"Parsing UUID..."}))}}]),r}(c.a.Component),p=r(14),x=r(39),m=r(15),U=function(e){Object(d.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(l.a)(this,r);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={id:Object(x.a)(),url:"",submitted:!1},e.update=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e}return Object(h.a)(r,[{key:"render",value:function(){return this.state.submitted?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{children:"Thanks! Your link is as follows"}),Object(s.jsxs)("h2",{children:["UUID: ",this.state.createdLinkUUID]}),Object(s.jsxs)("h2",{children:["URL: ",this.state.createdLinkURL]})]}):Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{className:"pageTitle",children:"Create a Link"}),Object(s.jsxs)("form",{className:"formParent",onSubmit:this.props.addUrl,children:[Object(s.jsxs)("label",{className:"formLabel",children:[Object(s.jsxs)("b",{children:["URL ID: ",this.state.id]})," ",Object(s.jsx)("input",{type:"text",name:"id",hidden:!0,value:this.state.id,readOnly:!0})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("label",{className:"formLabel",children:[Object(s.jsx)("b",{children:"URL Destination:"})," ",Object(s.jsx)("input",{type:"text",name:"url",value:this.state.url,onChange:this.update})]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(m.CopyToClipboard,{text:"https://relishedchicken.github.io/url-redirect-system/#/redirect/"+this.state.id,children:Object(s.jsx)("button",{className:"submitButton",children:"COPY URL TO CLIPBOARD"})})]})]})}}]),r}(c.a.Component),f=function(e){Object(d.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(l.a)(this,r);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={id:"",url:"",submitted:!1},e.update=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e}return Object(h.a)(r,[{key:"render",value:function(){return this.state.submitted?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{children:"Thanks! Your link is as follows"}),Object(s.jsxs)("h2",{children:["UUID: ",this.state.createdLinkUUID]}),Object(s.jsxs)("h2",{children:["URL: ",this.state.createdLinkURL]})]}):Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{className:"pageTitle",children:"Update a Link"}),Object(s.jsxs)("h4",{className:"pageDetail",children:["Destination set to: ",this.state.url]}),Object(s.jsxs)("h4",{className:"pageDetail",children:["Full Link Being Updated: ","https://relishedchicken.github.io/url-redirect-system/#/redirect/"+this.state.id]}),Object(s.jsxs)("form",{className:"formParent",onSubmit:this.props.updateUrl,children:[Object(s.jsxs)("label",{className:"formLabel",children:[Object(s.jsx)("b",{children:"UUID of URL to Update:"})," ",Object(s.jsx)("input",{type:"text",name:"id",value:this.state.id,onChange:this.update})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("label",{className:"formLabel",children:[Object(s.jsx)("b",{children:"New URL Destination:"})," ",Object(s.jsx)("input",{type:"text",name:"url",value:this.state.url,onChange:this.update})]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(m.CopyToClipboard,{text:"https://relishedchicken.github.io/url-redirect-system/#/redirect/"+this.state.id,children:Object(s.jsxs)("button",{className:"submitButton",children:["COPY URL TO CLIPBOARD ","&"," UPDATE"]})})]})]})}}]),r}(c.a.Component),g=(r(37),function(e){Object(d.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(l.a)(this,r);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={urls:[],loadedURLs:!1,justCreatedLink:!1,createdLinkUUID:"",createdLinkURL:""},e}return Object(h.a)(r,[{key:"getURLData",value:function(){var e=this;fetch("https://cors-anywhere.herokuapp.com/http://kunet.kingston.ac.uk/k1625608/updateUrls/getUrls.php").then((function(e){return e.json()})).then((function(t){e.setState({urls:t}),console.log("loaded!"),e.setState({loadedURLs:!0})}))}},{key:"addURL",value:function(e){e.preventDefault(),console.log(e);var t=e.target[0].value,r=e.target[1].value;fetch("https://cors-anywhere.herokuapp.com/http://kunet.kingston.ac.uk/k1625608/updateUrls/addUrl.php?uuid="+t+"&url="+r),window.location.href="/url-redirect-system/#/"}},{key:"updateURL",value:function(e){e.preventDefault(),console.log(e);var t=e.target[0].value,r=e.target[1].value;""!==r?(fetch("https://cors-anywhere.herokuapp.com/http://kunet.kingston.ac.uk/k1625608/updateUrls/updateUrl.php?uuid="+t+"&url="+r),window.location.href="/url-redirect-system/#/"):window.location.href="/url-redirect-system/#/error"}},{key:"render",value:function(){return this.state.loadedURLs?Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Simple Persistant URL Redirector"}),Object(s.jsx)(o.a,{children:Object(s.jsxs)(u.c,{children:[Object(s.jsx)(u.a,{basename:"/url-redirect-system/#/",exact:!0,path:"/",children:Object(s.jsx)(b,{})}),Object(s.jsx)(u.a,{basename:"/url-redirect-system/#/",path:"/redirect",children:Object(s.jsx)(O,{currentUrls:this.state.urls})}),Object(s.jsx)(u.a,{basename:"/url-redirect-system/#/",path:"/edit",children:Object(s.jsx)(U,{addUrl:this.addURL})}),Object(s.jsx)(u.a,{basename:"/url-redirect-system/#/",path:"/update",children:Object(s.jsx)(f,{updateUrl:this.updateURL})}),Object(s.jsx)(u.a,{basename:"/url-redirect-system/#/",path:"/error",children:Object(s.jsxs)("h3",{children:["The URL entered was not complete or correct. Please try again: ",Object(s.jsx)(o.b,{to:"/edit/"})]})})]})})]}):(this.getURLData(),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{children:"Simple Persistant URL Redirector"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Please Wait"}),Object(s.jsx)("h4",{children:"Loading latest data..."})]})]}))}}]),r}(c.a.Component));i.a.render(Object(s.jsx)(g,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.df234148.chunk.js.map