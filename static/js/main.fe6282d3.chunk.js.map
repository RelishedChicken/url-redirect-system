{"version":3,"sources":["components/Instructions.js","components/Redirector.js","components/Edit.js","components/App.js","index.js"],"names":["Instructions","React","Component","Redirector","state","urlToUse","readyToGo","usersURL","usersChosenUUID","window","location","href","substring","lastIndexOf","length","console","log","this","props","currentUrls","forEach","url","url_uuid","url_value","setState","parse","Edit","id","uuidv4","update","e","target","name","value","onSubmit","addUrl","type","readOnly","onChange","App","urls","loadedURLs","fetch","then","r","json","data","formData","preventDefault","uuid","urlDest","basename","exact","path","addURL","getURLData","ReactDOM","render","document","getElementById"],"mappings":"gOAiBeA,E,uKAZP,OACI,gCACI,uCACA,gDACA,6DACA,uDACA,4DAA8B,mDAA9B,wB,GATWC,IAAMC,WC2ClBC,E,4MAzCXC,MAAM,CACFC,SAAU,GACVC,WAAW,G,sDAIX,IAEIC,EAFAC,EAAkBC,OAAOC,SAASC,KAAKC,UAAUH,OAAOC,SAASC,KAAKE,YAAY,KAAK,EAAEJ,OAAOC,SAASC,KAAKG,QAClHC,QAAQC,IAAIR,GAEZS,KAAKC,MAAMC,YAAYC,SAAQ,SAAAC,GACxBA,EAAIC,WAAad,IAChBD,EAAWc,EAAIE,cAGJ,MAAhBhB,EAAS,KACRA,EAAW,WAAWA,GAE1BU,KAAKO,SAAS,CACVnB,SAAUE,EACVD,WAAW,IAEfS,QAAQC,IAAIT,K,+BAKZ,OAAGU,KAAKb,MAAME,WACVG,OAAOC,SAASC,KAAOM,KAAKb,MAAMC,SAE9B,sDAGJY,KAAKQ,QAED,sD,GApCSxB,IAAMC,W,gBCsChBwB,E,4MAnCXtB,MAAQ,CACJuB,GAAIC,cACJP,IAAK,I,EAGTQ,OAAS,SAACC,GACN,EAAKN,SAAL,eACKM,EAAEC,OAAOC,KAAOF,EAAEC,OAAOE,S,uDAK9B,OACI,gCACI,4CACA,sDAAyBhB,KAAKb,MAAMiB,OACpC,uBAAMa,SAAUjB,KAAKC,MAAMiB,OAA3B,UACI,kCACI,qDAA4B,IAC5B,uBAAOC,KAAK,OAAOJ,KAAK,KAAKC,MAAOhB,KAAKb,MAAMuB,GAAIU,UAAQ,OAE/D,uBACA,kCACI,iDAAwB,IACxB,uBAAOD,KAAK,OAAOJ,KAAK,MAAMC,MAAOhB,KAAKb,MAAMiB,IAAKiB,SAAUrB,KAAKY,YAExE,uBACA,uBAAOO,KAAK,SAASH,MAAM,sB,GA7B5BhC,IAAMC,WC8DVqC,E,4MAzDXnC,MAAM,CACFoC,KAAK,GACLC,YAAY,G,2DAGH,IAAD,OACRC,MAAM,mGAAmGC,MAAK,SAAAC,GAAC,OAAEA,EAAEC,UAAQF,MAAK,SAACG,GAC7H,EAAKtB,SAAS,CACVgB,KAAMM,IAEV/B,QAAQC,IAAI,WACZ,EAAKQ,SAAS,CACViB,YAAY,S,6BAMjBM,GACHA,EAASC,iBACTjC,QAAQC,IAAI+B,GACZ,IAAIE,EAAOF,EAAShB,OAAO,GAAGE,MAC1BiB,EAAUH,EAAShB,OAAO,GAAGE,MACjCS,MAAM,0GAA0GO,EAAK,QAAQC,K,+BAI7H,OAAGjC,KAAKb,MAAMqC,WAEN,8BACI,cAAC,IAAD,UACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOU,SAAS,0BAA0BC,OAAK,EAACC,KAAK,IAArD,SACI,cAAC,EAAD,MAEJ,cAAC,IAAD,CAAOF,SAAS,0BAA0BE,KAAK,YAA/C,SACI,cAAC,EAAD,CAAYlC,YAAaF,KAAKb,MAAMoC,SAExC,cAAC,IAAD,CAAOW,SAAS,0BAA0BE,KAAK,QAA/C,SACI,cAAC,EAAD,CAAMlB,OAAQlB,KAAKqC,mBAOvCrC,KAAKsC,aAED,gCACI,6CACA,gE,GApDFtD,IAAMC,WCFxBsD,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.fe6282d3.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nclass Instructions extends React.Component{\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                <h1>Usage</h1>\r\n                <h2>Editing a Link</h2>\r\n                <p>To edit a link, visit /edit/</p>\r\n                <h2>To Redirect to a Link</h2>\r\n                <p>Visit this domain with the <b>'/redirect/[uuid]'</b> in the URL</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Instructions;","import React from \"react\";\r\n\r\nclass Redirector extends React.Component{\r\n\r\n    state={\r\n        urlToUse: \"\",\r\n        readyToGo: false,\r\n    }\r\n\r\n    parse(){\r\n        var usersChosenUUID = window.location.href.substring(window.location.href.lastIndexOf(\"/\")+1,window.location.href.length);\r\n        console.log(usersChosenUUID);\r\n        var usersURL;\r\n        this.props.currentUrls.forEach(url => {\r\n            if(url.url_uuid === usersChosenUUID){\r\n                usersURL = url.url_value\r\n            }\r\n        })\r\n        if(usersURL[0] !== \"h\"){\r\n            usersURL = \"https://\"+usersURL;\r\n        }\r\n        this.setState({\r\n            urlToUse: usersURL,\r\n            readyToGo: true\r\n        })\r\n        console.log(usersURL);\r\n        \r\n    }\r\n\r\n    render(){\r\n        if(this.state.readyToGo){\r\n            window.location.href = this.state.urlToUse;\r\n            return(\r\n                <h1>Redirecting you...</h1>\r\n            )\r\n        }else{\r\n            this.parse()\r\n            return(\r\n                <h1>Parsing UUID...</h1>\r\n            )\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Redirector;","import React from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nclass Edit extends React.Component{\r\n\r\n    state = {\r\n        id: uuidv4(),\r\n        url: \"\",\r\n    }\r\n\r\n    update = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value,\r\n        })\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                <h1>Edit Links</h1>\r\n                <h4>Destination set to: {this.state.url}</h4>\r\n                <form onSubmit={this.props.addUrl}>\r\n                    <label>\r\n                        <b>URL ID (Copy this!):</b>{\" \"}\r\n                        <input type=\"text\" name=\"id\" value={this.state.id} readOnly></input>\r\n                    </label>\r\n                    <br />\r\n                    <label>\r\n                        <b>URL Destination:</b>{\" \"}\r\n                        <input type=\"text\" name=\"url\" value={this.state.url} onChange={this.update}></input>\r\n                    </label>\r\n                    <br />\r\n                    <input type=\"submit\" value=\"Create!\"></input>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Edit;","import React from \"react\";\r\nimport { HashRouter as Router, Switch, Route} from \"react-router-dom\";\r\nimport Instructions from \"./Instructions\";\r\nimport Redirector from \"./Redirector\";\r\nimport Edit from \"./Edit\";\r\n\r\nclass App extends React.Component{\r\n\r\n    state={\r\n        urls:[],\r\n        loadedURLs: false\r\n    }\r\n\r\n    getURLData(){\r\n        fetch(\"https://cors-anywhere.herokuapp.com/http://kunet.kingston.ac.uk/k1625608/updateUrls/getUrls.php\").then(r=>r.json()).then((data) => {\r\n            this.setState({\r\n                urls: data\r\n            })\r\n            console.log(\"loaded!\");\r\n            this.setState({\r\n                loadedURLs: true\r\n            })\r\n        })\r\n        \r\n    }\r\n\r\n    addURL(formData){\r\n        formData.preventDefault();\r\n        console.log(formData);\r\n        var uuid = formData.target[0].value;\r\n        var urlDest = formData.target[1].value;\r\n        fetch(\"https://cors-anywhere.herokuapp.com/http://kunet.kingston.ac.uk/k1625608/updateUrls/updateUrl.php?uuid=\"+uuid+\"&url=\"+urlDest);\r\n    }\r\n\r\n    render(){\r\n        if(this.state.loadedURLs){\r\n            return(\r\n                <div>\r\n                    <Router>\r\n                        <Switch>\r\n                            <Route basename=\"/url-redirect-system/#/\" exact path=\"/\" >\r\n                                <Instructions />\r\n                            </Route>\r\n                            <Route basename=\"/url-redirect-system/#/\" path=\"/redirect\" >\r\n                                <Redirector currentUrls={this.state.urls}/>\r\n                            </Route>\r\n                            <Route basename=\"/url-redirect-system/#/\" path=\"/edit\" >\r\n                                <Edit addUrl={this.addURL}/>\r\n                            </Route>\r\n                        </Switch>\r\n                    </Router>\r\n                </div>\r\n            )\r\n        }else{\r\n            this.getURLData();\r\n            return(\r\n                <div>\r\n                    <h1>Please Wait</h1>\r\n                    <h3>Loading latest data...</h3>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\"\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}