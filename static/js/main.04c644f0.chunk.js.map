{"version":3,"sources":["components/Instructions.js","components/Redirector.js","components/Edit.js","components/Update.js","components/App.js","index.js"],"names":["Instructions","className","to","React","Component","Redirector","state","urlToUse","readyToGo","usersURL","usersChosenUUID","window","location","href","substring","lastIndexOf","length","console","log","this","props","currentUrls","forEach","url","url_uuid","url_value","setState","parse","Edit","id","uuidv4","submitted","update","e","target","name","value","formSubmitted","onSubmit","addUrl","type","hidden","readOnly","onChange","text","onClick","updateUrl","App","urls","loadedURLs","justCreatedLink","createdLinkUUID","createdLinkURL","fetch","then","r","json","data","formData","preventDefault","uuid","urlDest","inludes","content","basename","exact","path","addURL","Update","updateURL","getURLData","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.04c644f0.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { HashRouter as Router, Link} from \"react-router-dom\";\r\n\r\nclass Instructions extends React.Component{\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                <h2 className=\"pageTitle\">Usage</h2>\r\n                <h3 className=\"subTitle\">Editing a Link</h3>\r\n                <p>To edit a link, go <b><Link to=\"/edit/\">here</Link></b>.</p>\r\n                <h3 className=\"subTitle\">Update a Link</h3>\r\n                <p>To update a link, go <b><Link to=\"/update/\">here</Link></b>.</p>\r\n                <h3 className=\"subTitle\">To Redirect to a Link</h3>\r\n                <p>Visit this domain with <b>'/redirect/[uuid]'</b> in the URL.</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Instructions;","import React from \"react\";\r\n\r\nclass Redirector extends React.Component{\r\n\r\n    state={\r\n        urlToUse: \"\",\r\n        readyToGo: false,\r\n    }\r\n\r\n    parse(){\r\n        var usersChosenUUID = window.location.href.substring(window.location.href.lastIndexOf(\"/\")+1,window.location.href.length);\r\n        console.log(usersChosenUUID);\r\n        var usersURL;\r\n        this.props.currentUrls.forEach(url => {\r\n            if(url.url_uuid === usersChosenUUID){\r\n                usersURL = url.url_value\r\n            }\r\n        })\r\n        if(usersURL[0] !== \"h\"){\r\n            usersURL = \"https://\"+usersURL;\r\n        }\r\n        this.setState({\r\n            urlToUse: usersURL,\r\n            readyToGo: true\r\n        })\r\n        console.log(usersURL);\r\n        \r\n    }\r\n\r\n    render(){\r\n        if(this.state.readyToGo){\r\n            window.location.href = this.state.urlToUse;\r\n            return(\r\n                <h1>Redirecting you...</h1>\r\n            )\r\n        }else{\r\n            this.parse()\r\n            return(\r\n                <h1>Parsing UUID...</h1>\r\n            )\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Redirector;","import React from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\n\r\nclass Edit extends React.Component{\r\n\r\n    state = {\r\n        id: uuidv4(),\r\n        url: \"\",\r\n        submitted: false,\r\n    }\r\n\r\n    update = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value,\r\n        })\r\n    }\r\n\r\n    formSubmitted = (e) =>{\r\n        this.setState({\r\n            submitted: true\r\n        })\r\n    }\r\n\r\n    render(){\r\n        if(!this.state.submitted){\r\n            return(\r\n                <div>\r\n                    <h2 className=\"pageTitle\">Create a Link</h2>\r\n                    <p className=\"pageInstructions\">Enter a destination. Your new URL will be copied to clipboard automatically</p>\r\n                    <div className=\"formSpacer\">&nbsp;</div>\r\n                    <div className=\"formParent\">\r\n                        <form onSubmit={this.props.addUrl}>\r\n                            <label className=\"formLabel\"><b>URL ID: {\" \"}</b></label>\r\n                            {this.state.id}{\" \"}\r\n                            <input className=\"inputField\" type=\"text\" name=\"id\" hidden value={this.state.id} readOnly></input>\r\n                            <br />\r\n                            <label className=\"formLabel\"><b>URL Destination:</b>{\" \"}</label>\r\n                            <input className=\"inputField\"  type=\"text\" name=\"url\" value={this.state.url} onChange={this.update}></input>\r\n                            <br />\r\n                            <br />\r\n                            <CopyToClipboard text={\"https://relishedchicken.github.io/url-redirect-system/#/redirect/\"+this.state.id}>\r\n                                <button onClick={this.formSubmitted} className=\"submitButton\">Submit {\"&\"} Copy to Clipboard</button>\r\n                            </CopyToClipboard>\r\n                        </form>\r\n                    </div>\r\n                    <div className=\"formSpacer\">&nbsp;</div>\r\n                </div>\r\n            )\r\n        }else{\r\n            return(\r\n                <>\r\n                    <h2 className=\"pageTitle\">Thanks! Your link has been created and is as follows:</h2>\r\n                    <p className=\"pageInstructions\">UUID: {this.state.id}</p>\r\n                    <p className=\"pageInstructions\">URL: {this.state.url}</p>\r\n                    <p className=\"pageInstructions\">Hint: Your link has already been copied to your clipboard</p>\r\n                </>\r\n            )\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Edit;","import React from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\n\r\nclass Edit extends React.Component{\r\n\r\n    state = {\r\n        id: \"\",\r\n        url: \"\",\r\n        submitted: false\r\n    }\r\n\r\n    update = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value,\r\n        })\r\n    }\r\n\r\n    formSubmitted = (e) =>{\r\n        this.setState({\r\n            submitted: true\r\n        })\r\n    }\r\n\r\n    render(){\r\n        if(!this.state.submitted){\r\n            return(\r\n                <div>\r\n                    <h2 className=\"pageTitle\">Update an Exiting Link</h2>\r\n                    <p className=\"pageInstructions\">Paste your old link below and a new destination.</p>\r\n                    <div className=\"formSpacer\">&nbsp;</div>\r\n                    <div className=\"formParent\">\r\n                        <form onSubmit={this.props.updateUrl}>\r\n                            <label className=\"formLabel\"><b>URL ID: {\" \"}</b></label>\r\n                            <input className=\"inputField\" type=\"text\" name=\"id\" value={this.state.id} onChange={this.update}></input>\r\n                            <br />\r\n                            <label className=\"formLabel\"><b>URL Destination:</b>{\" \"}</label>\r\n                            <input className=\"inputField\"  type=\"text\" name=\"url\" value={this.state.url} onChange={this.update}></input>\r\n                            <br />\r\n                            <br />\r\n                            <CopyToClipboard text={\"https://relishedchicken.github.io/url-redirect-system/#/redirect/\"+this.state.id}>\r\n                                <button onClick={this.formSubmitted} className=\"submitButton\">Update {\"&\"} Copy to Clipboard</button>\r\n                            </CopyToClipboard>\r\n                        </form>\r\n                    </div>\r\n                    <div className=\"formSpacer\">&nbsp;</div>\r\n                </div>\r\n            )\r\n        }else{\r\n            return(\r\n                <>\r\n                    <h2 className=\"pageTitle\">Thanks! Your link has been updated and is as follows:</h2>\r\n                    <p className=\"pageInstructions\">UUID: {this.state.id}</p>\r\n                    <p className=\"pageInstructions\">URL: {this.state.url}</p>\r\n                </>\r\n            )\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Edit;","import React from \"react\";\r\nimport { HashRouter as Router, Switch, Route, Link} from \"react-router-dom\";\r\nimport Instructions from \"./Instructions\";\r\nimport Redirector from \"./Redirector\";\r\nimport Edit from \"./Edit\";\r\nimport Update from \"./Update\";\r\nimport \"./App.css\";\r\n\r\nclass App extends React.Component{\r\n\r\n    state={\r\n        urls:[],\r\n        loadedURLs: false,\r\n        justCreatedLink: false,\r\n        createdLinkUUID: \"\",\r\n        createdLinkURL: \"\"\r\n    }\r\n\r\n    getURLData(){\r\n        fetch(\"https://cors-anywhere.herokuapp.com/http://kunet.kingston.ac.uk/k1625608/updateUrls/getUrls.php\").then(r=>r.json()).then((data) => {\r\n            this.setState({\r\n                urls: data\r\n            })\r\n            console.log(\"loaded!\");\r\n            this.setState({\r\n                loadedURLs: true\r\n            })\r\n        })\r\n        \r\n    }\r\n\r\n    addURL(formData){\r\n        formData.preventDefault();\r\n        console.log(formData);\r\n        var uuid = formData.target[0].value;\r\n        var urlDest = formData.target[1].value;\r\n        fetch(\"https://cors-anywhere.herokuapp.com/http://kunet.kingston.ac.uk/k1625608/updateUrls/addUrl.php?uuid=\"+uuid+\"&url=\"+urlDest);\r\n    }\r\n\r\n    updateURL(formData){\r\n        formData.preventDefault();\r\n        console.log(formData);\r\n        var urlDest = formData.target[1].value;\r\n        if(urlDest.inludes(\"http\")){\r\n            urlDest = urlDest.substring(urlDest.lastIndexOf(\"/\"),urlDest.length);\r\n        }\r\n        var uuid = formData.target[0].value;\r\n        uuid = uuid.substring(uuid.lastIndexOf(\"/\")+1,uuid.length);\r\n        if(urlDest !== \"\"){\r\n            fetch(\"https://cors-anywhere.herokuapp.com/http://kunet.kingston.ac.uk/k1625608/updateUrls/updateUrl.php?uuid=\"+uuid+\"&url=\"+urlDest);\r\n        }     \r\n    }\r\n\r\n    render(){\r\n        if(this.state.loadedURLs){\r\n            return(\r\n                <div>\r\n                    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0,user-scalable=0\"/>\r\n                    <h1 className=\"title\">Simple Persistant URL Redirector</h1>\r\n                    <Router>\r\n                        <div className=\"menuContainer\">\r\n                            <div className=\"menuBar\">\r\n                                <div className=\"link\"><Link to=\"/#/\">Home</Link></div>\r\n                                <div className=\"link\"><Link to=\"/edit/\">Create Link</Link></div>\r\n                                <div className=\"link\"><Link to=\"/update/\">Update Link</Link></div>\r\n                            </div>\r\n                        </div>\r\n                        <Switch>\r\n                            <Route basename=\"/url-redirect-system/#/\" exact path=\"/\" >\r\n                                <Instructions />\r\n                            </Route>\r\n                            <Route basename=\"/url-redirect-system/#/\" path=\"/redirect\" >\r\n                                <Redirector currentUrls={this.state.urls}/>\r\n                            </Route>\r\n                            <Route basename=\"/url-redirect-system/#/\" path=\"/edit\" >\r\n                                <Edit addUrl={this.addURL}/>\r\n                            </Route>\r\n                            <Route basename=\"/url-redirect-system/#/\" path=\"/update\" >\r\n                                <Update updateUrl={this.updateURL}/>\r\n                            </Route>\r\n                        </Switch>\r\n                    </Router>\r\n                </div>\r\n            )\r\n        }else{\r\n            this.getURLData();\r\n            return(\r\n                <>\r\n                    <h1 className=\"title\">Simple Persistant URL Redirector</h1>\r\n                    <div>\r\n                        <h2 className=\"pageTitle\">Please Wait</h2>\r\n                        <h4 className=\"pageDetail\">Loading latest data...</h4>\r\n                    </div>\r\n                </>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\"\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}