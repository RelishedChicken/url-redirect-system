{"version":3,"sources":["components/Instructions.js","components/Redirector.js","components/Edit.js","components/Update.js","components/App.js","index.js"],"names":["Instructions","React","Component","Redirector","state","urlToUse","readyToGo","usersURL","usersChosenUUID","window","location","href","substring","lastIndexOf","length","console","log","this","props","currentUrls","forEach","url","url_uuid","url_value","setState","parse","Edit","id","uuidv4","submitted","update","e","target","name","value","createdLinkUUID","createdLinkURL","className","onSubmit","addUrl","type","readOnly","onChange","text","updateUrl","App","urls","loadedURLs","justCreatedLink","fetch","then","r","json","data","formData","preventDefault","uuid","urlDest","basename","exact","path","addURL","Update","updateURL","getURLData","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.688f1699.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { HashRouter as Router, Link} from \"react-router-dom\";\r\n\r\nclass Instructions extends React.Component{\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                <h1>Usage</h1>\r\n                <h2>Editing a Link</h2>\r\n                <p>To edit a link, visit  </p>\r\n                <h2>Update a Link</h2>\r\n                <p>To update a link, visit </p>\r\n                <h2>To Redirect to a Link</h2>\r\n                <p>Visit this domain with the <b>'/redirect/[uuid]'</b> in the URL</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Instructions;","import React from \"react\";\r\n\r\nclass Redirector extends React.Component{\r\n\r\n    state={\r\n        urlToUse: \"\",\r\n        readyToGo: false,\r\n    }\r\n\r\n    parse(){\r\n        var usersChosenUUID = window.location.href.substring(window.location.href.lastIndexOf(\"/\")+1,window.location.href.length);\r\n        console.log(usersChosenUUID);\r\n        var usersURL;\r\n        this.props.currentUrls.forEach(url => {\r\n            if(url.url_uuid === usersChosenUUID){\r\n                usersURL = url.url_value\r\n            }\r\n        })\r\n        if(usersURL[0] !== \"h\"){\r\n            usersURL = \"https://\"+usersURL;\r\n        }\r\n        this.setState({\r\n            urlToUse: usersURL,\r\n            readyToGo: true\r\n        })\r\n        console.log(usersURL);\r\n        \r\n    }\r\n\r\n    render(){\r\n        if(this.state.readyToGo){\r\n            window.location.href = this.state.urlToUse;\r\n            return(\r\n                <h1>Redirecting you...</h1>\r\n            )\r\n        }else{\r\n            this.parse()\r\n            return(\r\n                <h1>Parsing UUID...</h1>\r\n            )\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Redirector;","import React from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\n\r\nclass Edit extends React.Component{\r\n\r\n    state = {\r\n        id: uuidv4(),\r\n        url: \"\",\r\n        submitted: false\r\n    }\r\n\r\n    update = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value,\r\n        })\r\n    }\r\n\r\n    render(){\r\n        if(!this.state.submitted){\r\n            return(\r\n                <div>\r\n                    <h1 className=\"pageTitle\">Create a Link</h1>\r\n                    <h4 className=\"pageDetail\">Full Link: {\"https://relishedchicken.github.io/url-redirect-system/#/redirect/\"+this.state.id}</h4>\r\n                    <h4 className=\"pageDetail\">Destination set to: {this.state.url}</h4>\r\n                    <form className=\"formParent\" onSubmit={this.props.addUrl}>\r\n                        <label className=\"formLabel\">\r\n                            <b>URL ID:</b>{\" \"}\r\n                            <input type=\"text\" name=\"id\" value={this.state.id} readOnly></input>\r\n                        </label>\r\n                        <br />\r\n                        <label className=\"formLabel\">\r\n                            <b>URL Destination:</b>{\" \"}\r\n                            <input type=\"text\" name=\"url\" value={this.state.url} onChange={this.update}></input>\r\n                        </label>\r\n                        <br />\r\n                        <CopyToClipboard text={\"https://relishedchicken.github.io/url-redirect-system/#/redirect/\"+this.state.id}>\r\n                            <button>COPY URL TO CLIPBOARD</button>\r\n                        </CopyToClipboard>\r\n                    </form>\r\n                </div>\r\n            )\r\n        }else{\r\n            return(\r\n                <>\r\n                    <h1>Thanks! Your link is as follows</h1>\r\n                    <h2>UUID: {this.state.createdLinkUUID}</h2>\r\n                    <h2>URL: {this.state.createdLinkURL}</h2>\r\n                </>\r\n            )\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Edit;","import React from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\n\r\nclass Edit extends React.Component{\r\n\r\n    state = {\r\n        id: \"\",\r\n        url: \"\",\r\n        submitted: false\r\n    }\r\n\r\n    update = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value,\r\n        })\r\n    }\r\n\r\n    render(){\r\n        if(!this.state.submitted){\r\n            return(\r\n                <div>\r\n                    <h1 className=\"pageTitle\">Update a Link</h1>\r\n                    <h4 className=\"pageDetail\">Destination set to: {this.state.url}</h4>\r\n                    <h4 className=\"pageDetail\">Full Link Being Updated: {\"https://relishedchicken.github.io/url-redirect-system/#/redirect/\"+this.state.id}</h4>\r\n                    <form className=\"formParent\" onSubmit={this.props.updateUrl}>\r\n                        <label className=\"formLabel\">\r\n                            <b>UUID of URL to Update:</b>{\" \"}\r\n                            <input type=\"text\" name=\"id\" value={this.state.id} onChange={this.update}></input>\r\n                        </label>\r\n                        <br />\r\n                        <label className=\"formLabel\">\r\n                            <b>New URL Destination:</b>{\" \"}\r\n                            <input type=\"text\" name=\"url\" value={this.state.url} onChange={this.update}></input>\r\n                        </label>\r\n                        <br />\r\n                        <CopyToClipboard text={\"https://relishedchicken.github.io/url-redirect-system/#/redirect/\"+this.state.id}>\r\n                            <button>COPY URL TO CLIPBOARD {\"&\"} UPDATE</button>\r\n                        </CopyToClipboard>\r\n                    </form>\r\n                </div>\r\n            )\r\n        }else{\r\n            return(\r\n                <>\r\n                    <h1>Thanks! Your link is as follows</h1>\r\n                    <h2>UUID: {this.state.createdLinkUUID}</h2>\r\n                    <h2>URL: {this.state.createdLinkURL}</h2>\r\n                </>\r\n            )\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Edit;","import React from \"react\";\r\nimport { HashRouter as Router, Switch, Route} from \"react-router-dom\";\r\nimport Instructions from \"./Instructions\";\r\nimport Redirector from \"./Redirector\";\r\nimport Edit from \"./Edit\";\r\nimport Update from \"./Update\";\r\nimport \"./App.css\";\r\n\r\nclass App extends React.Component{\r\n\r\n    state={\r\n        urls:[],\r\n        loadedURLs: false,\r\n        justCreatedLink: false,\r\n        createdLinkUUID: \"\",\r\n        createdLinkURL: \"\"\r\n    }\r\n\r\n    getURLData(){\r\n        fetch(\"https://cors-anywhere.herokuapp.com/http://kunet.kingston.ac.uk/k1625608/updateUrls/getUrls.php\").then(r=>r.json()).then((data) => {\r\n            this.setState({\r\n                urls: data\r\n            })\r\n            console.log(\"loaded!\");\r\n            this.setState({\r\n                loadedURLs: true\r\n            })\r\n        })\r\n        \r\n    }\r\n\r\n    addURL(formData){\r\n        formData.preventDefault();\r\n        console.log(formData);\r\n        var uuid = formData.target[0].value;\r\n        var urlDest = formData.target[1].value;\r\n        fetch(\"https://cors-anywhere.herokuapp.com/http://kunet.kingston.ac.uk/k1625608/updateUrls/addUrl.php?uuid=\"+uuid+\"&url=\"+urlDest);\r\n        window.location.href = \"/url-redirect-system/#/\";\r\n    }\r\n\r\n    updateURL(formData){\r\n        formData.preventDefault();\r\n        console.log(formData);\r\n        var uuid = formData.target[0].value;\r\n        var urlDest = formData.target[1].value;\r\n        fetch(\"https://cors-anywhere.herokuapp.com/http://kunet.kingston.ac.uk/k1625608/updateUrls/updateUrl.php?uuid=\"+uuid+\"&url=\"+urlDest);\r\n        window.location.href = \"/url-redirect-system/#/\";\r\n    }\r\n\r\n    render(){\r\n        if(this.state.loadedURLs){\r\n            return(\r\n                <div>\r\n                    <Router>\r\n                        <Switch>\r\n                            <Route basename=\"/url-redirect-system/#/\" exact path=\"/\" >\r\n                                <Instructions />\r\n                            </Route>\r\n                            <Route basename=\"/url-redirect-system/#/\" path=\"/redirect\" >\r\n                                <Redirector currentUrls={this.state.urls}/>\r\n                            </Route>\r\n                            <Route basename=\"/url-redirect-system/#/\" path=\"/edit\" >\r\n                                <Edit addUrl={this.addURL}/>\r\n                            </Route>\r\n                            <Route basename=\"/url-redirect-system/#/\" path=\"/update\" >\r\n                                <Update updateUrl={this.updateURL}/>\r\n                            </Route>\r\n                        </Switch>\r\n                    </Router>\r\n                </div>\r\n            )\r\n        }else{\r\n            this.getURLData();\r\n            return(\r\n                <div>\r\n                    <h1>Please Wait</h1>\r\n                    <h3>Loading latest data...</h3>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\"\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}